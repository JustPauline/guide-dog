# nav2_params.yaml

map_server:
  ros__parameters:
    use_sim_time: false
    # donâ€™t load from disk, just subscribe to the SLAM Toolbox /map topic
    yaml_filename: ''
    subscribe_to_updates: true
    map_topic: '/map'
    map_subscribe_transient_local: true

planner_server:
  ros__parameters:
    use_sim_time: false
    odom_topic: '/odometry/filtered'
    expected_planner_frequency: 1.0
    expected_planner_plugins: ["grid_based"]
    grid_based:
      plugin: "nav2_navfn_planner/NavfnPlanner"

global_costmap:
  ros__parameters:
    use_sim_time: false
    global_frame: 'map'
    robot_base_frame: 'base_footprint'
    update_frequency: 1.0
    publish_frequency: 1.0
    resolution: 0.05
    width: 10.0
    height: 10.0
    rolling_window: false
    track_unknown_space: true
    always_send_full_costmap: true
    plugins: ["static_layer", "obstacle_layer", "inflation_layer"]

    static_layer:
      plugin: "nav2_costmap_2d::StaticLayer"
      enabled: true
      map_topic: '/map'
      subscribe_to_updates: true
      map_subscribe_transient_local: true
      

    obstacle_layer:
      plugin: "nav2_costmap_2d::ObstacleLayer"
      enabled: true
      observation_sources: 'scan'
      scan:
        topic: '/scan'
        sensor_type: 'laser'
        data_type: 'LaserScan'
        marking: true
        clearing: true
        min_obstacle_height: 0.0
        max_obstacle_height: 2.0

    inflation_layer:
      plugin: "nav2_costmap_2d::InflationLayer"
      enabled: true
      inflation_radius: 0.5

local_costmap:
  ros__parameters:
    use_sim_time: false
    global_frame: 'odom'
    robot_base_frame: 'base_footprint'
    update_frequency: 5.0
    publish_frequency: 2.0
    resolution: 0.05
    width: 6.0
    height: 6.0
    rolling_window: true
    track_unknown_space: true
    plugins: ["obstacle_layer", "inflation_layer"]

    obstacle_layer:
      plugin: "nav2_costmap_2d::ObstacleLayer"
      enabled: true
      observation_sources: 'scan'
      scan:
        topic: '/scan'
        sensor_type: 'laser'
        data_type: 'LaserScan'
        marking: true
        clearing: true
        min_obstacle_height: 0.0
        max_obstacle_height: 2.0

    inflation_layer:
      plugin: "nav2_costmap_2d::InflationLayer"
      enabled: true
      inflation_radius: 0.3

lifecycle_manager_planner:
  ros__parameters:
    use_sim_time: false
    autostart: true
    node_names:
      - map_server
      - planner_server
      - global_costmap
      - local_costmap
